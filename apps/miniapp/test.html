<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Telegram WebApp Test</title>
</head>
<body>
    <h1>Telegram WebApp Test</h1>
    <div id="result"></div>
    
    <script>
        // Simple test
        function testTelegram() {
            const result = document.getElementById('result');
            
            const info = {
                hasTelegram: !!window.Telegram,
                hasWebApp: !!window.Telegram?.WebApp,
                userAgent: navigator.userAgent,
                user: window.Telegram?.WebApp?.initDataUnsafe?.user,
                platform: window.Telegram?.WebApp?.platform,
                version: window.Telegram?.WebApp?.version
            };
            
            result.innerHTML = '<pre>' + JSON.stringify(info, null, 2) + '</pre>';
            
            // Initialize if available
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.ready();
                window.Telegram.WebApp.expand();
                console.log('Telegram WebApp initialized');
            }
        }
        
        // Test immediately and after load
        testTelegram();
        window.addEventListener('load', testTelegram);
        document.addEventListener('DOMContentLoaded', testTelegram);
    </script>
</body>
</html>